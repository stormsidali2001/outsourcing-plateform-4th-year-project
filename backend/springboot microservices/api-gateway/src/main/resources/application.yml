spring:
  cloud:
    gateway:
      routes:
        - id: worker
          uri: lb://worker-microservice
          predicates:
            - Path=/workers/**
          filters:
            - RewritePath=/workers/(?<segment>.*), /${segment}
            - AuthorizationFilter
        - id: client
          uri: lb://company-microservice
          predicates:
            - Path=/clients/**
          filters:
            - RewritePath=/clients/(?<segment>.*), /${segment}
            - AuthorizationFilter

        - id: auth-microservice
          uri: lb://auth-microservice
          predicates:
            - Path=/auth/**
          filters:
            - AuthorizationFilter
            - RewritePath=auth/(?<s>.*), /${s}

        - id: storage-microservice
          uri: lb://storage-microservice
          predicates:
            - Path=/storage/**
          filters:
            - RewritePath=auth/(?<s>.*), /${s}

        - id: job-request-microservice
          uri: lb://job-request-service
          predicates:
            - Path=/job-request/**
          filters:
            - RewritePath=auth/(?<s>.*), /${s}

